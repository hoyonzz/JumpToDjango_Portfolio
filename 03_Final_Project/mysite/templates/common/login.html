{% extends 'base.html' %}
{% load socialaccount %}

{% block content %}
<div class="container my-3">
    <div class="row">
        <div class="col-6">
            <h4>로그인</h4>
            <div class="text-right mb-3">
                <span>
                    또는 <a href="{% url 'common:signup' %}">계정을 만드세요.</a>
                </span>
            </div>

            <form method="post" class="post-form" action="{% url 'common:login' %}">
                {% csrf_token %}
                <!-- 로그인 성공 후 이동되는 URL -->
                <input type="hidden" name="next" value="{{ next }}">
                {% include 'form_errors.html' %}
                <div class="form-group">
                    <label for="username">사용자ID</label>
                    <input type="text" class="form-control" name="username" id="username"
                    value="{{ form.username.value|default_if_none:'' }}">
                </div>
                <div class="form-group">
                    <label for="password">비밀번호</label>
                    <input type="password" class="form-control" name="password" id="password"
                    value="{{ form.password.value|default_if_none:'' }}">
                </div>
                <button type="submit" class="btn btn-primary">로그인</button>
                <div class="text-left mt-3">
                    <small><a href="{% url 'common:password_reset' %}">비밀번호를 잊어셨나요?</a></small>
                </div>
            </form>
        </div>

        <div class="col-6">
            <!-- 소셜 로그인 버튼 -->
            <h5>소셜 로그인</h5>
            <div class="d-grid gap-2">
                <a href="{% provider_login_url 'google' %}" class="btn btn-danger btn-block">
                    Google로 로그인
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}
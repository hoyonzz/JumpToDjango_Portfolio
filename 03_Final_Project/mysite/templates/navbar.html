<!-- 네비게이션바 -->
<nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
    <a class="navbar-brand" href="{% url 'pybo:index' %}">Pybo</a>
    <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav"
        aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>    
    </button>

    <div class="collapse navbar-collapse flex-grow-0" id="navbarNav">
        <!-- 카테고리 메뉴 -->
        <ul class="navbar-nav mr-auto">
            {% for cat in categories %}
            <li class="nav-item">
                <a class="nav-link{% if category and category.id == cat.id %} active {% endif %}" href="{% url 'pybo:index_by_category' cat.id %}">{{ cat.name }}</a>
            </li>
            {% endfor %}
        </ul>

        <ul class="navbar-nav">
            <li class="nav-item">
                {% if user.is_authenticated %}
                <!-- 프로필 드롭다운 메뉴 추가 -->
                <div class="dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-expanded="false">{{ user.username }}</a>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                        <a class="dropdown-item" href="{% url 'common:profile' %}">내 프로필</a>
                        <a class="dropdown-item" href="{% url 'common:edit_profile' %}">프로필 편집</a>
                        <a class="dropdown-item" href="{% url 'common:password_change' %}">비밀번호 변경</a>
                        <div class="dropdown-divider"></div>
                        <form action="{% url 'common:logout' %}" method="post">
                            {% csrf_token %}
                            <button type="submit" class="dropdown-item">로그아웃</button>
                        </form>
                    </div> 
                </div>
                {% else %}
                <a class="nav-link" href="{% url 'common:login' %}">로그인</a>
                {% endif %}
            </li>
        </ul>
    </div>
</nav>
